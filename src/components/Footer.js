import React, { useEffect, useState, useContext } from 'react'
import globe from '../assets/icon/globe.png'
import yuque from '../assets/icon/yuque@2x.png'
import { mainContext } from '../reducer'
import { withRouter } from 'react-router'
import { CHANGE_LOCALE } from '../const'

const Footer = (props) => {
  const { dispatch, state } = useContext(mainContext)
  const [flag, setFlag] = useState(false)
  const [language, setLanguage] = useState(
    (state.locale === 'en' && 'English') || (state.locale === 'zh' && 'ZH-CH')
  )

  useEffect(() => {
    if (state.locale === 'en') setLanguage('English')
    if (state.locale === 'zh') setLanguage('ZH-CH')
  }, [state.locale])

  useEffect(() => {
    if (props.history.location.pathname === '/information') {
      setFlag(true)
    } else {
      setFlag(false)
    }
  })

  const tabLanguage = (val) => {
    if (val === 'en') setLanguage('English')
    if (val === 'zh') setLanguage('ZH-CH')
    dispatch({
      type: CHANGE_LOCALE,
      locale: val,
    })
  }

  return (
    <footer
      className='footer'
      style={{ zIndex: 0, backgroundColor: flag ? '#f2f0ea' : '' }}
    >
      <div className='footer_wrap'>
        <ul className='footer__links'>
          <li>
            <a
              title='title'
              href='https://twitter.com/westarter_org'
              target='_blank'
              rel='noopener'
            >
              <svg width="24px" height="24px" viewBox="0 0 24 24" >
                <g stroke="none" strokeWidth="1" fill="none" fillRule="evenodd">
                  <g transform="translate(-758.000000, -3365.000000)" >
                    <g transform="translate(750.000000, 3357.000000)">
                      <g transform="translate(8.000000, 8.000000)">
                        <polygon points="0 0 24 0 24 24 0 24"></polygon>
                        <path d="M22.162,5.656 C21.398557,5.99369373 20.5889601,6.21547339 19.76,6.314 C20.6337508,5.79143332 21.2877055,4.96901423 21.6,4 C20.78,4.488 19.881,4.83 18.944,5.015 C17.6498495,3.63031951 15.5862776,3.28908903 13.9152663,4.18345292 C12.244255,5.07781681 11.3836288,6.98414575 11.818,8.829 C8.45502254,8.66044327 5.32174389,7.07199458 3.198,4.459 C2.82629012,5.09745032 2.63095514,5.82322672 2.632,6.562 C2.632,8.012 3.37,9.293 4.492,10.043 C3.82800881,10.0220962 3.1786324,9.84278055 2.598,9.52 L2.598,9.572 C2.59841319,11.5630358 4.00151442,13.2781232 5.953,13.673 C5.33661503,13.8400369 4.69030669,13.8646582 4.063,13.745 C4.61012698,15.4491831 6.18045142,16.6167778 7.97,16.65 C6.21794158,18.0260194 3.99074,18.6491034 1.779,18.382 C3.69069779,19.6114328 5.91609682,20.2641239 8.189,20.2620052 C15.882,20.2620052 20.089,13.889 20.089,8.362 C20.089,8.182 20.084,8 20.076,7.822 C20.8948641,7.23016766 21.6015987,6.49701939 22.163,5.657 L22.162,5.656 Z" fillRule="nonzero"></path>
                      </g>
                    </g>
                  </g>
                </g>
              </svg>
            </a>
          </li>

          <li>
            <a
              title='title'
              href='https://t.me/westarter_official'
              target='_blank'
              rel='noopener'
            >
              <svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" >
                <g stroke="none" strokeWidth="1" fill="none" fillRule="evenodd">
                  <g transform="translate(-822.000000, -3365.000000)" >
                    <g transform="translate(750.000000, 3357.000000)">
                      <g transform="translate(64.000000, 0.000000)">
                        <g id="telegram-fill" transform="translate(8.000000, 8.000000)">
                          <polygon points="0 0 24 0 24 24 0 24"></polygon>
                          <path d="M12,22 C6.477,22 2,17.523 2,12 C2,6.477 6.477,2 12,2 C17.523,2 22,6.477 22,12 C22,17.523 17.523,22 12,22 Z M8.89,13.17 L8.903,13.163 L9.773,16.033 C9.885,16.344 10.039,16.4 10.226,16.374 C10.414,16.349 10.513,16.248 10.636,16.13 L11.824,14.982 L14.374,16.87 C14.84,17.127 15.175,16.994 15.291,16.438 L16.948,8.616 C17.131,7.888 16.811,7.596 16.246,7.828 L6.513,11.588 C5.849,11.854 5.853,12.226 6.393,12.391 L8.89,13.171 L8.89,13.17 Z" id="形状" fill="#000000" fillRule="nonzero"></path>
                        </g>
                      </g>
                    </g>
                  </g>
                </g>
              </svg>
            </a>
          </li>

          <li>
            <a
              title='title'
              href='https://github.com/we-starter'
              target='_blank'
              rel='noopener'
            >
              <svg width="24px" height="24px" viewBox="0 0 24 24" >
                <g id="westar" stroke="none" strokeWidth="1" fill="none" fillRule="evenodd">
                  <g transform="translate(-886.000000, -3365.000000)" fill="#000000" >
                    <g transform="translate(750.000000, 3357.000000)">
                      <g transform="translate(128.000000, 0.000000)">
                        <g id="Github" transform="translate(8.000000, 8.000000)">
                          <rect opacity="0" x="0" y="0" width="24" height="24"></rect>
                          <path d="M11.23823,22 C10.2198086,22.0035115 9.39035095,21.1913055 9.38327418,20.1836134 L9.37592774,18.8836151 C5.73031802,19.6681552 4.9613148,17.3536168 4.9613148,17.3536168 C4.36503551,15.8554314 3.50599711,15.4572398 3.50599711,15.4572398 C2.31715301,14.6517906 3.59605293,14.6681462 3.59605293,14.6681462 C4.91077706,14.7590518 5.60352999,16.0045108 5.60352999,16.0045108 C6.77217138,17.9863415 8.66941055,17.413608 9.4163538,17.0826971 C9.53395878,16.2445161 9.87389679,15.6727015 10.248751,15.3481613 C7.33813628,15.0208851 4.27867355,13.9081498 4.27867355,8.94087246 C4.27867355,7.52542498 4.79042749,6.36905421 5.62924254,5.46087681 C5.49327146,5.13360052 5.04491153,3.81542932 5.75603057,2.02996851 C5.75603057,2.02996851 6.85669673,1.68178313 9.36030623,3.35904347 C10.4294195,3.07122821 11.5322908,2.92450592 12.6402654,2.9226887 C13.7528592,2.92724215 14.8746567,3.07086964 15.9220405,3.35904347 C18.4238134,1.68180355 19.522643,2.02996851 19.522643,2.02996851 C20.2355986,3.81632775 19.7872387,5.13451937 19.6512676,5.46087681 C20.4910113,6.36815577 21,7.52542498 21,8.94089288 C21,13.9208912 17.9340988,15.0172505 15.0170662,15.338156 C15.4865575,15.7408806 15.905511,16.5290554 15.905511,17.7390669 C15.905511,19.4745215 15.8990726,20.1826945 15.8990726,20.1826945 C15.8920104,21.1898283 15.0638146,22.0020132 14.0459533,22 L11.2382094,22 L11.23823,22 Z" id="路径" fillRule="nonzero"></path>
                        </g>
                      </g>
                    </g>
                  </g>
                </g>
              </svg>
            </a>
          </li>
          {/*<li>*/}
          {/*  <a*/}
          {/*    title='title'*/}
          {/*    href='https://www.yuque.com/westarter'*/}
          {/*    target='_blank'*/}
          {/*    rel='noopener'*/}
          {/*  >*/}
          {/*    <svg width='24' height='30' viewBox='0 0 30 30'>*/}
          {/*      <path d='M8.46424943,5.10249711 L8.47461061,5.109 L9.83620065,2.74070849 C9.93811703,1.90940768 9.58503922,1.02787459 8.77638646,0.0961091845 C8.76330143,0.081043992 8.75886764,0.0603157452 8.76464474,0.0412159218 C8.77042185,0.0221160985 8.78560064,0.0073200529 8.80484175,0.00203252033 L8.82023085,6.75015599e-14 L14.2087326,6.75015599e-14 L14.2093133,0.00464576982 C16.4357941,0.110046462 18.2093133,1.97125435 18.2093133,4.25203252 C18.2093133,5.4898374 17.6872459,6.6039489 16.8539126,7.38095239 C18.5287093,8.64982581 19.6088487,10.6489547 19.6088487,12.8980836 C19.6088487,16.6954123 16.5295804,19.7810685 12.7078615,19.8423345 L0.0136106136,19.8432056 L8.46424943,5.10249711 Z'></path>*/}
          {/*    </svg>*/}
          {/*  </a>*/}
          {/*</li>*/}

          <li>
            <a
              title='title'
              href='https://medium.com/@westarter'
              target='_blank'
              rel='noopener noreferrer'
            >
              <svg width="24px" height="24px" viewBox="0 0 24 24" >
                <g id="westar" stroke="none" strokeWidth="1" fill="none" fillRule="evenodd">
                  <g transform="translate(-950.000000, -3365.000000)" >
                    <g transform="translate(750.000000, 3357.000000)">
                      <g transform="translate(192.000000, 0.000000)">
                        <g id="medium-fill" transform="translate(8.000000, 8.000000)">
                          <polygon points="0 0 24 0 24 24 0 24"></polygon>
                          <path d="M4,3 L20,3 C20.5522847,3 21,3.44771525 21,4 L21,20 C21,20.5522847 20.5522847,21 20,21 L4,21 C3.44771525,21 3,20.5522847 3,20 L3,4 C3,3.44771525 3.44771525,3 4,3 Z M17.3,15.94 C17.2,15.89 17.15,15.74 17.15,15.639 L17.15,8.006 C17.15,7.906 17.2,7.756 17.3,7.655 L18.255,6.55 L18.255,6.5 L14.84,6.5 L12.28,12.978 L9.366,6.5 L5.852,6.5 L5.852,6.55 L6.755,7.806 C6.956,8.006 7.006,8.308 7.006,8.559 L7.006,14.082 C7.056,14.384 7.006,14.735 6.856,15.036 L5.5,16.894 L5.5,16.944 L9.116,16.944 L9.116,16.894 L7.76,15.087 C7.61,14.785 7.559,14.484 7.61,14.133 L7.61,9.11 C7.66,9.21 7.71,9.21 7.76,9.411 L11.174,17.044 L11.224,17.044 L14.54,8.76 C14.49,9.06 14.49,9.412 14.49,9.664 L14.49,15.589 C14.49,15.739 14.44,15.839 14.34,15.94 L13.335,16.894 L13.335,16.944 L18.256,16.944 L18.256,16.894 L17.302,15.94 L17.3,15.94 Z" id="形状" fill="#000000" fillRule="nonzero"></path>
                        </g>
                      </g>
                    </g>
                  </g>
                </g>
              </svg>
            </a>
          </li>

          <li>
            <a
              title='title'
              href='https://t.me/westarter_chinese'
              target='_blank'
              rel='noopener'
            >
              <svg width="24px" height="24px" viewBox="0 0 24 24" >
                <g id="westar" stroke="none" strokeWidth="1" fill="none" fillRule="evenodd">
                  <g transform="translate(-1078.000000, -3365.000000)" >
                    <g transform="translate(750.000000, 3357.000000)">
                      <g transform="translate(320.000000, 0.000000)">
                        <g transform="translate(8.000000, 8.000000)">
                          <rect x="0" y="0" width="24" height="24"></rect>
                          <g id="Telegram-CN" transform="translate(2.000000, 2.000000)" fill="#000000" fillRule="nonzero">
                            <path d="M17.0131989,18.8490909 C16.80109,19.8629524 16.1871156,20.1080576 15.3387116,19.6401095 L10.7171784,16.2308046 L8.49571,18.3811115 C8.23892846,18.6373635 8.02685106,18.8490596 7.56915243,18.8490596 L7.88173553,14.1362006 L16.455026,6.42625058 C16.8345395,6.0808864 16.3768409,5.91374642 15.874501,6.21458586 L5.29188246,12.8883494 L0.714990476,11.439949 C-0.267368669,11.1614032 -0.27856042,10.4817904 0.938228197,9.99154863 L18.7658083,3.12835144 C19.5806999,2.76069359 20.3621419,3.32890063 20.0495588,4.57675182 L17.0131989,18.8490909 Z M3.07428522,0 C4.08732019,0 4.73629571,0.416612188 5.13992683,1.31393075 L4.10314886,1.8587313 C3.96069082,1.39404848 3.6678604,1.08158934 3.07428522,1.08158934 C2.36990935,1.08158934 1.90296354,1.56229571 1.90296354,2.44359072 L1.90296354,3.34090928 C1.90296354,4.22220429 2.36990935,4.70291066 3.07428522,4.70291066 C3.6678604,4.70291066 4.00817683,4.32635734 4.17437788,3.86968629 L5.1557555,4.44653393 C4.74421005,5.29578186 4.08732019,5.7845 3.07428522,5.7845 C1.58639012,5.7845 0.628755502,4.82308726 0.628755502,2.93230886 C0.628755502,1.04153047 1.58639012,0 3.07428522,0 Z M7.48014498,0 L8.99708708,2.61588825 L9.52920813,3.72565903 L9.55303445,3.72565903 L9.55303445,0 L10.6887555,0 L10.6887555,5.533 L9.37036603,5.533 L7.85342392,2.91711175 L7.32130287,1.80734097 L7.29747655,1.80734097 L7.29747655,5.533 L6.1617555,5.533 L6.1617555,0 L7.48014498,0 Z" id="形状"></path>
                          </g>
                        </g>
                      </g>
                    </g>
                  </g>
                </g>
              </svg>
            </a>
          </li>
        </ul>
        {/* <div className='language'>
          <img src={globe} alt='' />
          {language}
          <div className='language-items'>
            <p onClick={() => tabLanguage('en')}>English</p>
            <p onClick={() => tabLanguage('zh')}>中文简体</p>
          </div>
        </div> */}
      </div>
    </footer>
  )
}

export default withRouter(Footer)
